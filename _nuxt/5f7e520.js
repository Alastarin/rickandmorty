(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{266:function(t,e,r){"use strict";r.r(e);r(115);var n={name:"HeroCard",mixins:[{methods:{getNested:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var c=r.reduce((function(t,e){return t&&t[e]}),t);return c||"Неизвестно"}}}],props:{hover:{type:Boolean,default:function(){return!1}},link:{type:Boolean,default:function(){return!1}},item:{type:Object,required:!0}}},c=r(38),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:["hero-card mx-auto text-size--4 text-weight--800 text-color--white",t.hover?"hero-card--hover":""]},[r("div",{staticClass:"hero-card__avatar"},[r("img",{attrs:{src:t.item.image,alt:t.item.name}})]),t._v(" "),r("div",{staticClass:"hero-card__description"},[t.link?r("div",{staticClass:"text-weight--400 text-size--subtitle-1"},[t._v("\n      "+t._s(t.getNested(t.item,"name"))+"\n    ")]):r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[t._v("\n          Имя: "+t._s(t.getNested(t.item,"name"))+"\n        ")]),t._v(" "),r("div",{staticClass:"col-xs-12"},[t._v("\n          Статус: "+t._s(t.getNested(t.item,"status"))+"\n        ")]),t._v(" "),r("div",{staticClass:"col-xs-12"},[t._v("\n          Пол: "+t._s(t.getNested(t.item,"gender"))+"\n        ")]),t._v(" "),r("div",{staticClass:"col-xs-12"},[t._v("\n          Локация: "+t._s(t.getNested(t.item,"location","name"))+"\n        ")])])])])])}),[],!1,null,null,null);e.default=component.exports},267:function(t,e,r){var content=r(269);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("28f1127f",content,!0,{sourceMap:!1})},268:function(t,e,r){"use strict";r(267)},269:function(t,e,r){(e=r(45)(!1)).push([t.i,".title-container{background-color:#35495e}.total-counter{position:fixed;border-radius:6px;bottom:16px;right:16px;background-color:rgba(0,0,0,.7)}",""]),t.exports=e},280:function(t,e,r){"use strict";r.r(e);var n=r(27),c=(r(19),r(3)),o=r(57);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"Index",components:{HeroCard:r(266).default},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,e.next=3,r.dispatch("characters/getCharacters",{params:{page:r.state.characters.page}});case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{loading:!1}},computed:d(d({},Object(o.e)("characters",["all","page","totalCount","noMore"])),Object(o.c)({currentCount:"characters/currentCount"})),mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:d(d(d({},Object(o.d)({setPage:"characters/SET_PAGE"})),Object(o.b)({getCharacters:"characters/getCharacters"})),{},{handleScroll:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(document.getElementById("infinite-wrapper").clientHeight-400-pageYOffset<300)){e.next=15;break}if(t.loading||t.noMore){e.next=15;break}return e.prev=3,t.loading=!0,e.next=7,t.getCharacters({params:{page:t.page}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.loading=!1;case 12:return e.prev=12,t.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})))()}})},f=(r(268),r(38)),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.all.length>0?r("div",[t._m(0),t._v(" "),r("div",{staticClass:"container-fluid"},[r("div",{attrs:{id:"infinite-wrapper"}},[r("div",{staticClass:"row center-xs"},t._l(t.all,(function(t){return r("div",{key:t.id,staticClass:"col-sm-3 center-xs mb-4"},[r("nuxt-link",{staticClass:"text-decoration--none",attrs:{to:{name:"id",params:{id:t.id}}}},[r("hero-card",{attrs:{item:t,link:"",hover:""}})],1)],1)})),0)])]),t._v(" "),t.totalCount?r("div",{staticClass:"total-counter pa-2 text-color--white"},[t._v("\n    Загружено "+t._s(t.currentCount)+"/"+t._s(t.totalCount)+"\n  ")]):t._e()]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-container pa-6 mb-4"},[e("div",{staticClass:"row center-xs"},[e("div",{staticClass:"col-xs center-xs-12"},[e("h1",{staticClass:"text-size--h1 text-weight--700 text-color--white"},[this._v("\n          The Rick and Morty\n        ")])]),this._v(" "),e("div",{staticClass:"col-xs-12"},[e("a",{staticClass:"button--green",attrs:{href:"https://github.com/Alastarin/rickandmorty"}},[this._v("\n          GitHub\n        ")])])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{HeroCard:r(266).default})}}]);